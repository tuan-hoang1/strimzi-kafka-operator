PROJECT_NAME := kaniko-executor
KANIKO_EXECUTOR = docker.io/tuanhoang1/executor

docker_build:
	# The Kaniko executor image used for building new Kafka Connect images with additional connectors is not build from
	# scratch. We just pull the one released by Kaniko, retag it and push it to our repository to have our versioning on
	# it and have it stored there in our other images.
	$(DOCKER_CMD) pull $(KANIKO_EXECUTOR)
	$(DOCKER_CMD) tag $(KANIKO_EXECUTOR) strimzi/$(PROJECT_NAME):latest
	$(DOCKER_CMD) tag $(KANIKO_EXECUTOR) strimzi/$(PROJECT_NAME):$(BUILD_TAG)

include ../../Makefile.docker

.PHONY: build clean release
